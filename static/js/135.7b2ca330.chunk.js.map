{"version":3,"file":"static/js/135.7b2ca330.chunk.js","mappings":"gMACA,EAAwB,4BAAxB,EAA2D,2BAA3D,EAA8F,4BAA9F,EAAkI,4BAAlI,EAAuK,6BAAvK,EAA+M,+BAA/M,EAAqP,2BAArP,EAA2R,+BAA3R,EAAiU,2BAAjU,EAAyW,iCAAzW,EAAmZ,6B,qDCyGnZ,EAnGsB,WAAO,IAAD,QAC1B,GAA8BA,EAAAA,EAAAA,UAAS,CAAC,GAAxC,eAAOC,EAAP,KAAgBC,EAAhB,KACQC,GAAYC,EAAAA,EAAAA,MAAZD,QACFE,GAAWC,EAAAA,EAAAA,MAgBjB,IAdAC,EAAAA,EAAAA,YAAU,WAENC,MAAM,sCAAD,OACmCL,EADnC,oBACsDM,EAAAA,EADtD,oBAGFC,MAAK,SAAAC,GAAI,OAAIA,EAAKC,MAAT,IACTF,MAAK,SAAAC,GACJT,EAAWS,EACZ,GAIN,GAAE,CAACR,IAEgC,IAAhCU,OAAOC,KAAKb,GAASc,OAAzB,CAIA,IAIMC,EAAOf,EAAQgB,YACfC,EAAI,UAAGjB,EAAQkB,oBAAX,QAA2BlB,EAAQmB,eACvCC,EAAOH,EAAOA,EAAKI,MAAM,EAAG,GAAK,GAEjCC,EAActB,EAAQuB,OACxBvB,EAAQuB,OAAOC,KAAI,SAAAC,GAAK,OAAIA,EAAMC,IAAV,IAAgBC,KAAK,MAC7C,GAEEC,EAAY,oBAAGxB,EAASyB,aAAZ,aAAG,EAAgBC,YAAnB,QAA2B,IAE7C,OACE,4BACE,UAAC,KAAD,CAAMC,GAAIH,EAAcI,UAAWC,EAAnC,WACE,SAAC,MAAD,CAAoBC,MAAO,CAAEC,YAAa,UAD5C,cAGCvB,OAAOC,KAAKb,GAASc,OAAS,GAC7B,iCACE,iBAAKkB,UAAS,UAAKC,EAAL,YAAiBA,GAA/B,WACE,gBAAKD,UAAWC,EAAhB,UACE,gBACEG,IAAKpC,EAAQgB,YAAR,UAxBL,mCAwBK,OAAiCD,GAtBlD,iHAuBYsB,IAAI,kBAGR,4BACE,eAAGL,UAAWC,EAAd,oBACGjC,EAAQsC,aADX,QACoBtC,EAAQ0B,KAD5B,KACoCN,EADpC,QAIA,eAAGY,UAAWC,EAAd,wBACcM,KAAKC,MAA6B,GAAvBxC,EAAQyC,cADjC,SAGA,cAAGT,UAAWC,EAAd,uBACA,cAAGD,UAAWC,EAAd,SAAyBjC,EAAQ0C,YACjC,cAAGV,UAAWC,EAAd,qBACA,cAAGD,UAAWC,EAAd,SAAyBX,WAG7B,iBAAKU,UAAWC,EAAhB,WACE,cAAGD,UAAWC,EAAd,qCACA,gBAAID,UAAWC,EAAf,WACE,yBACE,SAAC,KAAD,CACEF,GAAG,OACHF,MAAO,CAAEC,KAAMF,GACfI,UAAWC,EAHb,qBAQF,yBACE,SAAC,KAAD,CACEF,GAAG,UACHF,MAAO,CAAEC,KAAMF,GACfI,UAAWC,EAHb,8BAUN,SAAC,EAAAU,SAAD,CAAUC,UAAU,wCAApB,UACE,SAAC,KAAD,UAIJ,4EAxEL,CA4EF,C","sources":["webpack://react-homework-template/./src/pages/MovieDetails/MovieDetails.module.css?0c24","pages/MovieDetails/MovieDetails.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"title\":\"MovieDetails_title__cUGs9\",\"flex\":\"MovieDetails_flex__0hsSL\",\"image\":\"MovieDetails_image__c1FeV\",\"score\":\"MovieDetails_score__p8Kk2\",\"genres\":\"MovieDetails_genres__Pnmgt\",\"overview\":\"MovieDetails_overview__U5Vnb\",\"text\":\"MovieDetails_text__RHcc4\",\"listLink\":\"MovieDetails_listLink__Cgi5s\",\"link\":\"MovieDetails_link__U+v+7\",\"linkGoBack\":\"MovieDetails_linkGoBack__wojGA\",\"border\":\"MovieDetails_border__mQZff\"};","import css from './MovieDetails.module.css';\nimport { useParams, useLocation } from 'react-router-dom';\nimport { useState, useEffect, Suspense } from 'react';\nimport { Link, Outlet } from 'react-router-dom';\nimport { FaLongArrowAltLeft } from 'react-icons/fa';\nimport { key } from '../../services/data';\n\nconst MoviesDetails = () => {\n  const [details, setDetails] = useState({});\n  const { movieId } = useParams();\n  const location = useLocation();\n\n  useEffect(() => {\n    const searchMovieDetails = () => {\n      fetch(\n        `https://api.themoviedb.org/3/movie/${movieId}?api_key=${key}&language=eu-US`\n      )\n        .then(resp => resp.json())\n        .then(resp => {\n          setDetails(resp);\n        });\n    };\n\n    searchMovieDetails();\n  }, [movieId]);\n\n  if (Object.keys(details).length === 0) {\n    return;\n  }\n\n  const basic = 'https://image.tmdb.org/t/p/w500';\n  const noPosterImg =\n    'https://freedesignfile.com/upload/2018/11/Characters-in-film-design-elements-background-vector-graphic-715.jpg';\n\n  const path = details.poster_path;\n  const date = details.release_date ?? details.first_air_date;\n  const year = date ? date.slice(0, 4) : '';\n\n  const genresMovie = details.genres\n    ? details.genres.map(genre => genre.name).join(', ')\n    : '';\n\n  const backLinkHref = location.state?.from ?? '/';\n\n  return (\n    <div>\n      <Link to={backLinkHref} className={css.linkGoBack}>\n        <FaLongArrowAltLeft style={{ marginRight: '10px' }} /> Go back\n      </Link>\n      {Object.keys(details).length > 8 ? (\n        <>\n          <div className={`${css.flex} ${css.border}`}>\n            <div className={css.image}>\n              <img\n                src={details.poster_path ? `${basic}${path}` : noPosterImg}\n                alt=\"actor face\"\n              />\n            </div>\n            <div>\n              <p className={css.title}>\n                {details.title ?? details.name} ({year})\n              </p>\n\n              <p className={css.score}>\n                Use score: {Math.round(details.vote_average * 10)} %\n              </p>\n              <p className={css.overview}>Overview</p>\n              <p className={css.text}>{details.overview}</p>\n              <p className={css.genres}>Genres</p>\n              <p className={css.text}>{genresMovie}</p>\n            </div>\n          </div>\n          <div className={css.border}>\n            <p className={css.text}>Additional information</p>\n            <ul className={css.listLink}>\n              <li>\n                <Link\n                  to=\"cast\"\n                  state={{ from: backLinkHref }}\n                  className={css.link}\n                >\n                  Cast\n                </Link>\n              </li>\n              <li>\n                <Link\n                  to=\"reviews\"\n                  state={{ from: backLinkHref }}\n                  className={css.link}\n                >\n                  Reviews\n                </Link>\n              </li>\n            </ul>\n          </div>\n          <Suspense fallback={<div>Loading...</div>}>\n            <Outlet />\n          </Suspense>\n        </>\n      ) : (\n        <p>The resource you requested could not be found.</p>\n      )}\n    </div>\n  );\n};\n\nexport default MoviesDetails;\n"],"names":["useState","details","setDetails","movieId","useParams","location","useLocation","useEffect","fetch","key","then","resp","json","Object","keys","length","path","poster_path","date","release_date","first_air_date","year","slice","genresMovie","genres","map","genre","name","join","backLinkHref","state","from","to","className","css","style","marginRight","src","alt","title","Math","round","vote_average","overview","Suspense","fallback"],"sourceRoot":""}